(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){e.exports=n(29)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(9),c=n.n(o),s=(n(17),n(6)),l=n(4),r=(n(18),n(19),function(e){return i.a.createElement("div",{className:"header"},i.a.createElement("div",null,"Tidy"),i.a.createElement("div",{className:"version"},"0.1.0"),i.a.createElement("div",{className:"spacer"}),i.a.createElement("button",{className:"button",onClick:e.onAddTask},"+Add Task"))}),d=(n(20),n(21),n(2)),u=n(3),m=function(e){return i.a.createElement("div",{className:"list-header"},i.a.createElement("div",{className:"icon"},i.a.createElement(d.a,{icon:u.d})),i.a.createElement("div",{className:"title"},e.title))},v=(n(27),function(e){return new Date(e).setHours(0,0,0,0)===(new Date).setHours(0,0,0,0)?"Today!":new Date(e).getDate()+" "+new Date(e).toLocaleString("default",{month:"long"})}),f=function(e){var t=Object(a.useState)(e.task),n=Object(l.a)(t,2),o=n[0],c=n[1];return Object(a.useEffect)(function(){c(e.task)},[e.task]),i.a.createElement("div",{className:"task"},i.a.createElement("div",{className:"task__state",onClick:function(){e.onComplete(o)}},i.a.createElement("div",{className:"checkbox"},o.isCompleted()?i.a.createElement("div",{className:"animation__check"},i.a.createElement(d.a,{icon:u.b})):"")),i.a.createElement("div",{className:"task__info",onClick:function(){e.onClickTask(o)}},i.a.createElement("div",{className:"task__name"},o.name),i.a.createElement("div",{className:"task__description"},o.description)),i.a.createElement("div",{className:"task__time"},v(o.deadline)))},h=function(e){return console.log("TaskList",e.title,e.tasks),i.a.createElement(i.a.Fragment,null,i.a.createElement(m,{title:e.title}),i.a.createElement("div",{className:"task-list"},e.tasks.map(function(t,n){return i.a.createElement(f,{key:t.id,task:t,onClickTask:e.onClickTask,onComplete:e.onComplete})})))},g=n(10),p=n(11),k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:+new Date,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-1;Object(g.a)(this,e),this.name=void 0,this.description=void 0,this.completed=void 0,this.created=void 0,this.deadline=void 0,this.repeat=void 0,this.id=void 0,this.name=t,this.description=n,this.deadline=a,this.repeat=i,this.completed=o,this.created=c,this.id=s}return Object(p.a)(e,[{key:"getCopy",value:function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.name,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.description,arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.deadline,arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.repeat,arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.completed,arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.created,arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.id)}},{key:"setDetails",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.name,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.description,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.deadline;return this.getCopy(e,t,n)}},{key:"setId",value:function(e){var t=void 0;return this.getCopy(t,t,t,t,t,t,e)}},{key:"toggleComplete",value:function(){var e=void 0;return this.getCopy(e,e,e,e,this.isCompleted()?0:+new Date)}},{key:"isCompleted",value:function(){return 0!==this.completed}}]),e}(),E=(n(28),function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)(""),r=Object(l.a)(s,2),m=r[0],v=r[1],f=Object(a.useState)(""),h=Object(l.a)(f,2),g=h[0],p=h[1],k=Object(a.useState)(""),E=Object(l.a)(k,2),b=E[0],w=E[1];return Object(a.useEffect)(function(){e.task?(v(e.task.name),p(new Date(e.task.deadline).toISOString().substr(0,10)),w(e.task.description),e.task.id>=0&&c(!0)):(v(""),p(""),w(""),c(!1))},[e.task]),i.a.createElement("div",{className:"dialog-container"+(e.task?" open":"")},i.a.createElement("div",{className:"task-dialog"},i.a.createElement("div",{className:"dialog-header"},o?"Adjust task":"Add task",i.a.createElement("div",{className:"spacer"}),o?i.a.createElement("div",{onClick:function(){return e.onDelete(e.task)}},i.a.createElement(d.a,{icon:u.f})):""),i.a.createElement("div",{className:"dialog-content"},i.a.createElement("div",{className:"input-container"},i.a.createElement("div",{className:"input-title"},i.a.createElement(d.a,{icon:u.e})),i.a.createElement("div",{className:"input-field"},i.a.createElement("input",{type:"text",placeholder:"Task name..",value:m,onChange:function(e){v(e.target.value)}}))),i.a.createElement("div",{className:"input-container"},i.a.createElement("div",{className:"input-title"},i.a.createElement(d.a,{icon:u.a})),i.a.createElement("div",{className:"input-field"},i.a.createElement("input",{type:"date",placeholder:"Task deadlvine..",value:g,onChange:function(e){p(e.target.value)}}))),i.a.createElement("div",{className:"input-container"},i.a.createElement("div",{className:"input-title"},i.a.createElement(d.a,{icon:u.c})),i.a.createElement("div",{className:"input-field"},i.a.createElement("input",{type:"text",placeholder:"Task description..",value:b,onChange:function(e){w(e.target.value)}})))),i.a.createElement("div",{className:"dialog-actions"},i.a.createElement("button",{onClick:function(){return e.onClose()}},"Cancel"),i.a.createElement("button",{disabled:""===m||""===b,onClick:function(){var t=e.task.setDetails(m,b,+new Date(g));e.onSubmit(t)},className:"button--type-success"},i.a.createElement(d.a,{icon:u.b}),i.a.createElement("div",{className:"button__text"},"Accept")))))}),b=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)([]),d=Object(l.a)(c,2),u=d[0],m=d[1],v=function(){return u.map(function(e){return e.id}).reduce(function(e,t){return Math.max(e,t)},0)+1};Object(a.useEffect)(function(){if(console.log("load from storage"),localStorage.getItem("tasks")){var e=JSON.parse(localStorage.getItem("tasks")||"").map(function(e){return new k(e.name,e.description,e.deadline,e.repeat,e.completed,e.created,e.id)});m(e)}},[]),Object(a.useEffect)(function(){console.log("console logging",u),localStorage.setItem("tasks",JSON.stringify(u))},[u]);var f=(+(new Date).getDay()+6)%7,g=(new Date).setHours(0,0,0,0),p=g-864e5*f,b=g+864e5,w=u.filter(function(e){return e.deadline>p&&e.deadline<b}).sort(function(e,t){return e.deadline-t.deadline}),N=u.filter(function(e){return e.deadline>=b}).sort(function(e,t){return e.deadline-t.deadline}),C=function(e){o(e)},O=function(e){m([].concat(Object(s.a)(u.filter(function(t){return t.id!==e.id})),[e.toggleComplete()]))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(r,{onAddTask:function(){return o(new k)}}),i.a.createElement(E,{task:n,onClose:function(){return o(void 0)},onSubmit:function(e){o(void 0),e.id>=0?m([].concat(Object(s.a)(u.filter(function(t){return t.id!==e.id})),[e.setId(v())])):m([].concat(Object(s.a)(u),[e.setId(v())]))},onDelete:function(e){o(void 0),m(Object(s.a)(u.filter(function(t){return t.id!==e.id})))}}),i.a.createElement(h,{tasks:w,title:"Tasks this week",onClickTask:C,onComplete:O}),i.a.createElement(h,{tasks:N,title:"Upcoming tasks",onClickTask:C,onComplete:O}))},w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(i.a.createElement(b,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/tidy",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/tidy","/service-worker.js");w?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):N(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):N(t,e)})}}()}],[[12,1,2]]]);
//# sourceMappingURL=main.fa05b1ac.chunk.js.map